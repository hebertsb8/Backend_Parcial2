# Railway Configuration
# Este archivo configura el despliegue en Railway

[build]
builder = "NIXPACKS"

[deploy]
# Comando de inicio usando gunicorn para producci√≥n
startCommand = "echo 'Starting Railway deployment...' && python railway_diagnostics.py && python manage.py migrate && python manage.py collectstatic --noinput --clear && echo 'Starting gunicorn...' && gunicorn backend.wsgi:application --bind 0.0.0.0:$PORT --workers 1 --threads 1 --timeout 30 --log-level debug"

[environment]
# Variables de entorno por defecto para Railway
SECRET_KEY = "django-insecure-production-key-change-this-in-production-2025-unique-key"
DEBUG = "False"
ALLOWED_HOSTS = "backendparcial2-production.up.railway.app,*.up.railway.app,*.railway.app,localhost,127.0.0.1"
CORS_ALLOWED_ORIGINS = "https://backendparcial2-production.up.railway.app"
PYTHON_VERSION = "3.11"

# Variables de entorno necesarias (configurar en Railway dashboard)
# DATABASE_URL=postgresql://...
# SECRET_KEY=...
# DEBUG=False
# ALLOWED_HOSTS=...
# etc.